<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>银河编辑器-前端编辑器</title>
    <meta name="description" content="银河编程网是一个搭载在线版图形化少儿编程的平台，发掘无限创意，开启编程之旅！">
    <meta name="keywords" content="scratch，银河，银河编程，编程平台，银河编程网，scratch在线编程，scratch平台">
    <link type="text/css" rel="stylesheet" href="/css/main.css"/>
    <link rel="shortcut icon" href="/img/logo.ico">
</head>
<script type="text/javascript">coded()</script>

<body>
    <script src="/js/header.js"></script>
</body><br><br><br>

<div id = 'container' style="height: 500px; width: 1000px; bgcolor : #FF7F50">
<textarea autocomplete="off" id = "textareaCode" warp = "logical" spellcheck="false" stype="display:none;" style="height : 100%; width: 49%; background-color: #F0F8FF; float: left" onkeypress="coded()">
<!DOCTYPE html>
<html>
<head> 
</head>
<body>
<p>1145141919810</p>
</body>
</html>
</textarea>
<div id = 'textareaCoded' style="height : 100%; width : 49%; background-color: #F0F8FF; float: right" wrap="virtual">
<p id = 'html_code' style="color:#000">这里是运行区</p>
</div>
</div><br><br>

<div>
<button type = 'button' id='bt' name = 'bt' onclick="coded()" class="btn btn-outline-light">运行 </button>
    <a href="#" id="downloadButton" class="btn btn-outline-light">下载源码</a>
</div>

<script>
    function coded() {
        var strCode = document.getElementById("textareaCode").value;
        document.getElementById("html_code").innerHTML = strCode;
    }

    // 获取编辑器中的源码内容
    function getCode() {
        return document.getElementById("textareaCode").value;
    }

    // 创建并下载源码文件
    function downloadCode() {
        var code = getCode();
        var blob = new Blob([code], { type: "text/html" });
        var url = URL.createObjectURL(blob);

        var downloadLink = document.getElementById("downloadButton");
        downloadLink.href = url;
        downloadLink.download = "GalaxyCode.html";
    }

    // 绑定点击事件
    document.getElementById("downloadButton").addEventListener("click", downloadCode);
</script>
</html>